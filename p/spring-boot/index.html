<!doctype html><html lang=zh-ch dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="æˆ‘æœ€è¿‘é‡åˆ°äº†ä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡ï¼šåœ¨ä¸€ä¸ª Java Spring Boot é¡¹ç›®å¼€å‘ä¸­ï¼Œåº”ç”¨å¯åŠ¨æ—¶æ˜¾ç¤ºäº†ä¸€äº›æ—¥å¿—ï¼Œç„¶åå°±å®Œå…¨åœæ­¢è¾“å‡ºï¼Œç¨‹åºçœ‹èµ·æ¥åƒæ˜¯å¡ä½äº†ã€‚æ§åˆ¶å°å…‰æ ‡åœ¨é—ªçƒï¼Œä½†æ˜¯ä»€ä¹ˆéƒ½ä¸ä¼šå‘ç”Ÿã€‚"><title>Spring Bootåº”ç”¨å‡æ­»ç°è±¡ï¼šSLF4Jæ—¥å¿—æ¡†æ¶å†²çªæ·±åº¦åˆ†æ</title>
<link rel=canonical href=https://cyber-blog.github.io/p/spring-boot/><link rel=stylesheet href=/scss/style.min.70a01615b5dd99826a360296920067f6e3896a41fe397d04d6b849efef75a174.css><meta property='og:title' content="Spring Bootåº”ç”¨å‡æ­»ç°è±¡ï¼šSLF4Jæ—¥å¿—æ¡†æ¶å†²çªæ·±åº¦åˆ†æ"><meta property='og:description' content="æˆ‘æœ€è¿‘é‡åˆ°äº†ä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡ï¼šåœ¨ä¸€ä¸ª Java Spring Boot é¡¹ç›®å¼€å‘ä¸­ï¼Œåº”ç”¨å¯åŠ¨æ—¶æ˜¾ç¤ºäº†ä¸€äº›æ—¥å¿—ï¼Œç„¶åå°±å®Œå…¨åœæ­¢è¾“å‡ºï¼Œç¨‹åºçœ‹èµ·æ¥åƒæ˜¯å¡ä½äº†ã€‚æ§åˆ¶å°å…‰æ ‡åœ¨é—ªçƒï¼Œä½†æ˜¯ä»€ä¹ˆéƒ½ä¸ä¼šå‘ç”Ÿã€‚"><meta property='og:url' content='https://cyber-blog.github.io/p/spring-boot/'><meta property='og:site_name' content='ä»¿ç”Ÿäººä¼šæ¢¦è§ç”µå­ç¾Šå—ï¼Ÿ'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Java'><meta property='article:tag' content='SpringBoot'><meta property='article:published_time' content='2025-09-19T16:30:00+08:00'><meta property='article:modified_time' content='2025-09-19T16:30:00+08:00'><meta name=twitter:title content="Spring Bootåº”ç”¨å‡æ­»ç°è±¡ï¼šSLF4Jæ—¥å¿—æ¡†æ¶å†²çªæ·±åº¦åˆ†æ"><meta name=twitter:description content="æˆ‘æœ€è¿‘é‡åˆ°äº†ä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡ï¼šåœ¨ä¸€ä¸ª Java Spring Boot é¡¹ç›®å¼€å‘ä¸­ï¼Œåº”ç”¨å¯åŠ¨æ—¶æ˜¾ç¤ºäº†ä¸€äº›æ—¥å¿—ï¼Œç„¶åå°±å®Œå…¨åœæ­¢è¾“å‡ºï¼Œç¨‹åºçœ‹èµ·æ¥åƒæ˜¯å¡ä½äº†ã€‚æ§åˆ¶å°å…‰æ ‡åœ¨é—ªçƒï¼Œä½†æ˜¯ä»€ä¹ˆéƒ½ä¸ä¼šå‘ç”Ÿã€‚"><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu9062387157319251782.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ«¥</span></figure><div class=site-meta><h1 class=site-name><a href=/>ä»¿ç”Ÿäººä¼šæ¢¦è§ç”µå­ç¾Šå—ï¼Ÿ</a></h1><h2 class=site-description>Do Androids Dream of Electric Sheep?</h2></div></header><ol class=menu-social><li><a href=https://github.com/majiang213 target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#å¼•è¨€>å¼•è¨€</a><ol><li><a href=#ä¸€ä¸ªä»¤äººå›°æƒ‘çš„ç°è±¡>ä¸€ä¸ªä»¤äººå›°æƒ‘çš„ç°è±¡</a></li></ol></li><li><a href=#ä¸€å½“ç¨‹åºå¡ä½çš„é‚£ä¸€åˆ»>ä¸€ã€å½“ç¨‹åº"å¡ä½"çš„é‚£ä¸€åˆ»</a><ol><li><a href=#åˆæ­¥ç°è±¡ç¨‹åºä¼¼ä¹åœæ­¢äº†>åˆæ­¥ç°è±¡ï¼šç¨‹åºä¼¼ä¹åœæ­¢äº†</a></li></ol></li><li><a href=#äºŒçœŸç›¸å¾€å¾€å‡ºäººæ„æ–™>äºŒã€çœŸç›¸å¾€å¾€å‡ºäººæ„æ–™</a><ol><li><a href=#æ•°å­—ä¸ä¼šè¯´è°567çš„cpuä½¿ç”¨ç‡>æ•°å­—ä¸ä¼šè¯´è°ï¼š56.7%çš„CPUä½¿ç”¨ç‡</a></li><li><a href=#æ·±å…¥æ£€æŸ¥ä½¿ç”¨å„ç§åˆ†æå·¥å…·>æ·±å…¥æ£€æŸ¥ï¼šä½¿ç”¨å„ç§åˆ†æå·¥å…·</a></li></ol></li><li><a href=#ä¸‰é™é»˜æ€æ‰‹çš„çœŸé¢ç›®>ä¸‰ã€é™é»˜æ€æ‰‹çš„çœŸé¢ç›®</a><ol><li><a href=#slf4jçš„é€‰æ‹©å›°éš¾ç—‡>SLF4Jçš„é€‰æ‹©å›°éš¾ç—‡</a></li><li><a href=#è¢«åå™¬çš„æ—¥å¿—å»äº†å“ªé‡Œ>è¢«åå™¬çš„æ—¥å¿—å»äº†å“ªé‡Œ</a></li></ol></li><li><a href=#å››ç ´è§£ä¹‹é“>å››ã€ç ´è§£ä¹‹é“</a><ol><li><a href=#æ–©æ–­æ··ä¹±çš„ä¾èµ–é“¾>æ–©æ–­æ··ä¹±çš„ä¾èµ–é“¾</a></li><li><a href=#ä¸ºä»€ä¹ˆä¼šä¸€ç›´ä½¿ç”¨reald4j>ä¸ºä»€ä¹ˆä¼šä¸€ç›´ä½¿ç”¨reald4j?</a></li></ol></li><li><a href=#å°¾å£°æŠ€æœ¯ä¸–ç•Œçš„å¯ç¤º>å°¾å£°ï¼šæŠ€æœ¯ä¸–ç•Œçš„å¯ç¤º</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/tech/ style=background-color:#2a9d8f;color:#fff>æŠ€æœ¯åšå®¢</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/spring-boot/>Spring Bootåº”ç”¨å‡æ­»ç°è±¡ï¼šSLF4Jæ—¥å¿—æ¡†æ¶å†²çªæ·±åº¦åˆ†æ</a></h2><h3 class=article-subtitle>æˆ‘æœ€è¿‘é‡åˆ°äº†ä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡ï¼šåœ¨ä¸€ä¸ª Java Spring Boot é¡¹ç›®å¼€å‘ä¸­ï¼Œåº”ç”¨å¯åŠ¨æ—¶æ˜¾ç¤ºäº†ä¸€äº›æ—¥å¿—ï¼Œç„¶åå°±å®Œå…¨åœæ­¢è¾“å‡ºï¼Œç¨‹åºçœ‹èµ·æ¥åƒæ˜¯å¡ä½äº†ã€‚æ§åˆ¶å°å…‰æ ‡åœ¨é—ªçƒï¼Œä½†æ˜¯ä»€ä¹ˆéƒ½ä¸ä¼šå‘ç”Ÿã€‚</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Sep 19, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>é˜…è¯»æ—¶é•¿: 8 åˆ†é’Ÿ</time></div></footer></div></header><section class=article-content><h2 id=å¼•è¨€>å¼•è¨€</h2><h3 id=ä¸€ä¸ªä»¤äººå›°æƒ‘çš„ç°è±¡>ä¸€ä¸ªä»¤äººå›°æƒ‘çš„ç°è±¡</h3><p>æˆ‘æœ€è¿‘é‡åˆ°äº†ä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡ï¼šåœ¨ä¸€ä¸ª Java Spring Boot é¡¹ç›®å¼€å‘ä¸­ï¼Œåº”ç”¨å¯åŠ¨æ—¶æ˜¾ç¤ºäº†ä¸€äº›æ—¥å¿—ï¼Œç„¶åå°±å®Œå…¨åœæ­¢è¾“å‡ºï¼Œç¨‹åºçœ‹èµ·æ¥åƒæ˜¯å¡ä½äº†ã€‚æ§åˆ¶å°å…‰æ ‡åœ¨é—ªçƒï¼Œä½†æ˜¯ä»€ä¹ˆéƒ½ä¸ä¼šå‘ç”Ÿã€‚</p><p>ç„¶è€Œï¼Œé€šè¿‡æ’é™¤ä¸€ä¸ªjaråŒ…ï¼Œç¨‹åºå°±èƒ½æ­£å¸¸å¯åŠ¨ã€‚è¿™è®©æˆ‘éå¸¸å›°æƒ‘ã€‚ ä¸ºä»€ä¹ˆæ’é™¤ä¸€ä¸ªæ—¥å¿—ç›¸å…³çš„ä¾èµ–å°±èƒ½è§£å†³é—®é¢˜ï¼Ÿç¨‹åºçœŸçš„å¡ä½äº†å—ï¼Ÿ</p><p>æˆ‘å°†åˆ†ææˆ‘æœ€è¿‘é‡åˆ°çš„ä¸€ä¸ªçœŸå®æ¡ˆä¾‹ã€‚</p><h2 id=ä¸€å½“ç¨‹åºå¡ä½çš„é‚£ä¸€åˆ»>ä¸€ã€å½“ç¨‹åº"å¡ä½"çš„é‚£ä¸€åˆ»</h2><h3 id=åˆæ­¥ç°è±¡ç¨‹åºä¼¼ä¹åœæ­¢äº†>åˆæ­¥ç°è±¡ï¼šç¨‹åºä¼¼ä¹åœæ­¢äº†</h3><p>æˆ‘æ‰§è¡Œé€šè¿‡IDEAæ‰§è¡Œ<code>mvn spring-boot:run</code> å¯åŠ¨åº”ç”¨æ—¶ï¼Œæ§åˆ¶å°æ˜¾ç¤ºäº†è¿™äº›ä¿¡æ¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>SLF4J</span><span class=p>(</span><span class=n>W</span><span class=p>):</span> <span class=n>Class</span> <span class=n>path</span> <span class=n>contains</span> <span class=n>multiple</span> <span class=n>SLF4J</span> <span class=n>providers</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>SLF4J</span><span class=p>(</span><span class=n>W</span><span class=p>):</span> <span class=n>Found</span> <span class=n>provider</span> <span class=p>[</span><span class=n>org</span><span class=o>.</span><span class=n>slf4j</span><span class=o>.</span><span class=n>reload4j</span><span class=o>.</span><span class=n>Reload4jServiceProvider</span><span class=err>@</span><span class=mi>64</span><span class=n>cd705f</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>SLF4J</span><span class=p>(</span><span class=n>W</span><span class=p>):</span> <span class=n>Found</span> <span class=n>provider</span> <span class=p>[</span><span class=n>org</span><span class=o>.</span><span class=n>apache</span><span class=o>.</span><span class=n>logging</span><span class=o>.</span><span class=n>slf4j</span><span class=o>.</span><span class=n>SLF4JServiceProvider</span><span class=err>@</span><span class=mi>9225652</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>SLF4J</span><span class=p>(</span><span class=n>I</span><span class=p>):</span> <span class=n>Actual</span> <span class=n>provider</span> <span class=n>is</span> <span class=n>of</span> <span class=n>type</span> <span class=p>[</span><span class=n>org</span><span class=o>.</span><span class=n>slf4j</span><span class=o>.</span><span class=n>reload4j</span><span class=o>.</span><span class=n>Reload4jServiceProvider</span><span class=err>@</span><span class=mi>64</span><span class=n>cd705f</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>log4j</span><span class=p>:</span><span class=n>WARN</span> <span class=n>No</span> <span class=n>appenders</span> <span class=n>could</span> <span class=n>be</span> <span class=n>found</span> <span class=k>for</span> <span class=n>logger</span> <span class=p>(</span><span class=n>com</span><span class=o>.</span><span class=n>sankuai</span><span class=o>.</span><span class=n>inf</span><span class=o>.</span><span class=n>octo</span><span class=o>.</span><span class=n>mns</span><span class=o>.</span><span class=n>util</span><span class=o>.</span><span class=n>ProcessInfoUtil</span><span class=p>)</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>log4j</span><span class=p>:</span><span class=n>WARN</span> <span class=n>Please</span> <span class=n>initialize</span> <span class=n>the</span> <span class=n>log4j</span> <span class=n>system</span> <span class=n>properly</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=mi>2025</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>19</span><span class=n>T02</span><span class=p>:</span><span class=mi>13</span><span class=p>:</span><span class=mf>23.178052</span><span class=n>Z</span> <span class=n>main</span> <span class=n>INFO</span> <span class=n>create</span> <span class=n>XMDFileAppender</span> <span class=p>[</span><span class=n>name</span><span class=o>=</span><span class=n>xmdCraneAppender</span> <span class=n>fullFileName</span><span class=o>=/</span><span class=n>data</span><span class=o>/</span><span class=n>applogs</span><span class=o>/</span><span class=n>inf</span><span class=o>/</span><span class=n>com</span><span class=o>.</span><span class=n>example</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>crane</span><span class=o>.</span><span class=n>log</span> <span class=n>appkey</span><span class=o>=</span><span class=n>com</span><span class=o>.</span><span class=n>example</span><span class=o>.</span><span class=n>com</span> <span class=n>fullFilePattern</span><span class=o>=/</span><span class=n>data</span><span class=o>/</span><span class=n>applogs</span><span class=o>/</span><span class=n>inf</span><span class=o>/</span><span class=n>com</span><span class=o>.</span><span class=n>example</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>crane</span><span class=o>.</span><span class=n>log</span><span class=o>-%</span><span class=n>d</span><span class=p>{</span><span class=n>yyyy</span><span class=o>-</span><span class=n>MM</span><span class=o>-</span><span class=n>dd</span><span class=p>}</span><span class=o>-%</span><span class=n>i</span><span class=o>.</span><span class=n>log</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=mi>2025</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>19</span><span class=n>T02</span><span class=p>:</span><span class=mi>13</span><span class=p>:</span><span class=mf>23.178277</span><span class=n>Z</span> <span class=n>main</span> <span class=n>INFO</span> <span class=n>create</span> <span class=n>XMDFileAppender</span> <span class=p>[</span><span class=n>name</span><span class=o>=</span><span class=n>xmdMafkaAppender</span> <span class=n>fullFileName</span><span class=o>=/</span><span class=n>data</span><span class=o>/</span><span class=n>applogs</span><span class=o>/</span><span class=n>inf</span><span class=o>/</span><span class=n>com</span><span class=o>.</span><span class=n>example</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>mafka</span><span class=o>.</span><span class=n>log</span> <span class=n>appkey</span><span class=o>=</span><span class=n>com</span><span class=o>.</span><span class=n>example</span><span class=o>.</span><span class=n>com</span> <span class=n>fullFilePattern</span><span class=o>=/</span><span class=n>data</span><span class=o>/</span><span class=n>applogs</span><span class=o>/</span><span class=n>inf</span><span class=o>/</span><span class=n>com</span><span class=o>.</span><span class=n>example</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>mafka</span><span class=o>.</span><span class=n>log</span><span class=o>-%</span><span class=n>d</span><span class=p>{</span><span class=n>yyyy</span><span class=o>-</span><span class=n>MM</span><span class=o>-</span><span class=n>dd</span><span class=p>}</span><span class=o>-%</span><span class=n>i</span><span class=o>.</span><span class=n>log</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=mi>2025</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>19</span><span class=n>T02</span><span class=p>:</span><span class=mi>13</span><span class=p>:</span><span class=mf>23.178424</span><span class=n>Z</span> <span class=n>main</span> <span class=n>INFO</span> <span class=n>create</span> <span class=n>XMDFileAppender</span> <span class=p>[</span><span class=n>name</span><span class=o>=</span><span class=n>xmdRhinoAppender</span> <span class=n>fullFileName</span><span class=o>=/</span><span class=n>data</span><span class=o>/</span><span class=n>applogs</span><span class=o>/</span><span class=n>inf</span><span class=o>/</span><span class=n>com</span><span class=o>.</span><span class=n>example</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>rhino</span><span class=o>.</span><span class=n>log</span> <span class=n>appkey</span><span class=o>=</span><span class=n>com</span><span class=o>.</span><span class=n>example</span><span class=o>.</span><span class=n>com</span> <span class=n>fullFilePattern</span><span class=o>=/</span><span class=n>data</span><span class=o>/</span><span class=n>applogs</span><span class=o>/</span><span class=n>inf</span><span class=o>/</span><span class=n>com</span><span class=o>.</span><span class=n>example</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>rhino</span><span class=o>.</span><span class=n>log</span><span class=o>-%</span><span class=n>d</span><span class=p>{</span><span class=n>yyyy</span><span class=o>-</span><span class=n>MM</span><span class=o>-</span><span class=n>dd</span><span class=p>}</span><span class=o>-%</span><span class=n>i</span><span class=o>.</span><span class=n>log</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=mi>2025</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>19</span><span class=n>T02</span><span class=p>:</span><span class=mi>13</span><span class=p>:</span><span class=mf>23.178563</span><span class=n>Z</span> <span class=n>main</span> <span class=n>INFO</span> <span class=n>create</span> <span class=n>XMDFileAppender</span> <span class=p>[</span><span class=n>name</span><span class=o>=</span><span class=n>xmdKmsAppender</span> <span class=n>fullFileName</span><span class=o>=/</span><span class=n>data</span><span class=o>/</span><span class=n>applogs</span><span class=o>/</span><span class=n>inf</span><span class=o>/</span><span class=n>com</span><span class=o>.</span><span class=n>example</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>kms</span><span class=o>.</span><span class=n>log</span> <span class=n>appkey</span><span class=o>=</span><span class=n>com</span><span class=o>.</span><span class=n>example</span><span class=o>.</span><span class=n>com</span> <span class=n>fullFilePattern</span><span class=o>=/</span><span class=n>data</span><span class=o>/</span><span class=n>applogs</span><span class=o>/</span><span class=n>inf</span><span class=o>/</span><span class=n>com</span><span class=o>.</span><span class=n>example</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>kms</span><span class=o>.</span><span class=n>log</span><span class=o>-%</span><span class=n>d</span><span class=p>{</span><span class=n>yyyy</span><span class=o>-</span><span class=n>MM</span><span class=o>-</span><span class=n>dd</span><span class=p>}</span><span class=o>-%</span><span class=n>i</span><span class=o>.</span><span class=n>log</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=mi>2025</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>19</span><span class=n>T02</span><span class=p>:</span><span class=mi>13</span><span class=p>:</span><span class=mf>23.183208</span><span class=n>Z</span> <span class=n>main</span> <span class=n>INFO</span> <span class=n>Begin</span> <span class=n>Stop</span> <span class=n>AsyncScibeAppender</span><span class=p>:</span> <span class=n>ScribeAsyncAppender</span> <span class=n>Queue</span> <span class=n>still</span> <span class=n>has</span> <span class=mi>0</span> <span class=n>events</span>
</span></span><span class=line><span class=cl><span class=mi>2025</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>19</span><span class=n>T02</span><span class=p>:</span><span class=mi>13</span><span class=p>:</span><span class=mf>23.183676</span><span class=n>Z</span> <span class=n>main</span> <span class=n>INFO</span> <span class=n>End</span> <span class=n>Stop</span> <span class=n>AsyncScibeAppender</span><span class=p>:</span> <span class=n>ScribeAsyncAppender</span> <span class=n>Queue</span> <span class=n>still</span> <span class=n>has</span> <span class=mi>0</span> <span class=n>events</span>
</span></span><span class=line><span class=cl><span class=o>////////////////////////////////////////////////////////////////////</span>
</span></span><span class=line><span class=cl><span class=o>//</span>                          <span class=n>_ooOoo_</span>                               <span class=o>//</span>
</span></span><span class=line><span class=cl><span class=o>//</span>                         <span class=n>o8888888o</span>                              <span class=o>//</span>
</span></span><span class=line><span class=cl><span class=o>//</span>                         <span class=mi>88</span><span class=s2>&#34; . &#34;</span><span class=mi>88</span>                              <span class=o>//</span>
</span></span><span class=line><span class=cl><span class=o>//</span>                         <span class=p>(</span><span class=o>|</span> <span class=o>^</span><span class=n>_</span><span class=o>^</span> <span class=o>|</span><span class=p>)</span>                              <span class=o>//</span>
</span></span><span class=line><span class=cl><span class=o>//</span>                         <span class=n>O</span>\  <span class=o>=</span>  <span class=o>/</span><span class=n>O</span>                              <span class=o>//</span>
</span></span><span class=line><span class=cl><span class=o>//</span>                      <span class=n>____</span><span class=o>/</span><span class=err>`</span><span class=o>---</span><span class=s1>&#39;\____                           //</span>
</span></span><span class=line><span class=cl><span class=o>//</span>                    <span class=o>.</span><span class=s1>&#39;  </span><span class=se>\\</span><span class=s1>|     |//  `.                         //</span>
</span></span><span class=line><span class=cl><span class=o>//</span>                   <span class=o>/</span>  \\<span class=o>|||</span>  <span class=p>:</span>  <span class=o>|||//</span>  \                        <span class=o>//</span>
</span></span><span class=line><span class=cl><span class=o>//</span>                  <span class=o>/</span>  <span class=n>_</span><span class=o>|||||</span> <span class=o>-</span><span class=p>:</span><span class=o>-</span> <span class=o>|||||-</span>  \                       <span class=o>//</span>
</span></span><span class=line><span class=cl><span class=o>//</span>                  <span class=o>|</span>   <span class=o>|</span> \\\  <span class=o>-</span>  <span class=o>///</span> <span class=o>|</span>   <span class=o>|</span>                       <span class=o>//</span>
</span></span><span class=line><span class=cl><span class=o>//</span>                  <span class=o>|</span> \<span class=n>_</span><span class=o>|</span>  <span class=s1>&#39;&#39;</span>\<span class=o>---/</span><span class=s1>&#39;&#39;</span>  <span class=o>|</span>   <span class=o>|</span>                       <span class=o>//</span>
</span></span><span class=line><span class=cl><span class=o>//</span>                  \  <span class=o>.-</span>\<span class=n>__</span>  <span class=err>`</span><span class=o>-</span><span class=err>`</span>  <span class=n>___</span><span class=o>/-.</span> <span class=o>/</span>                       <span class=o>//</span>
</span></span><span class=line><span class=cl><span class=o>//</span>                <span class=n>___</span><span class=err>`</span><span class=o>.</span> <span class=o>.</span><span class=s1>&#39;  /--.--\  `. . ___                     //</span>
</span></span><span class=line><span class=cl><span class=o>//</span>              <span class=o>.</span><span class=s2>&#34;&#34;</span> <span class=s1>&#39;&lt;  `.___\_&lt;|&gt;_/___.&#39;</span>  <span class=o>&gt;</span><span class=s1>&#39;&#34;&#34;.                  //</span>
</span></span><span class=line><span class=cl><span class=o>//</span>            <span class=o>|</span> <span class=o>|</span> <span class=p>:</span>  <span class=err>`</span><span class=o>-</span> \<span class=err>`</span><span class=o>.</span><span class=p>;</span><span class=err>`</span>\ <span class=n>_</span> <span class=o>/</span><span class=err>`</span><span class=p>;</span><span class=o>.</span><span class=err>`</span><span class=o>/</span> <span class=o>-</span> <span class=err>`</span> <span class=p>:</span> <span class=o>|</span> <span class=o>|</span>                 <span class=o>//</span>
</span></span><span class=line><span class=cl><span class=o>//</span>            \  \ <span class=err>`</span><span class=o>-.</span>   \<span class=n>_</span> <span class=n>__</span>\ <span class=o>/</span><span class=n>__</span> <span class=n>_</span><span class=o>/</span>   <span class=o>.-</span><span class=err>`</span> <span class=o>/</span>  <span class=o>/</span>                 <span class=o>//</span>
</span></span><span class=line><span class=cl><span class=o>//</span>      <span class=o>========</span><span class=err>`</span><span class=o>-.</span><span class=n>____</span><span class=err>`</span><span class=o>-.</span><span class=n>___</span>\<span class=n>_____</span><span class=o>/</span><span class=n>___</span><span class=o>.-</span><span class=err>`</span><span class=n>____</span><span class=o>.-</span><span class=s1>&#39;========         //</span>
</span></span><span class=line><span class=cl><span class=o>//</span>                           <span class=err>`</span><span class=o>=---=</span><span class=s1>&#39;                              //</span>
</span></span><span class=line><span class=cl><span class=o>//</span>      <span class=o>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>        <span class=o>//</span>
</span></span><span class=line><span class=cl><span class=o>//</span>            <span class=err>ä½›ç¥–ä¿ä½‘</span>       <span class=err>æ°¸ä¸å®•æœº</span>      <span class=err>æ°¸æ— </span><span class=n>BUG</span>                   <span class=o>//</span>
</span></span><span class=line><span class=cl><span class=o>//</span>            <span class=n>Thanks</span> <span class=n>to</span> <span class=n>Buddha</span><span class=s1>&#39;s blessing, may our system         //</span>
</span></span><span class=line><span class=cl><span class=o>//</span>            <span class=n>remain</span> <span class=n>stable</span> <span class=ow>and</span> <span class=n>bug</span><span class=o>-</span><span class=n>free</span> <span class=n>forever</span><span class=o>.</span>                 <span class=o>//</span>
</span></span><span class=line><span class=cl><span class=o>////////////////////////////////////////////////////////////////////</span>
</span></span><span class=line><span class=cl><span class=mi>9</span><span class=err>æœˆ</span> <span class=mi>19</span><span class=p>,</span> <span class=mi>2025</span> <span class=mi>10</span><span class=p>:</span><span class=mi>13</span><span class=p>:</span><span class=mi>26</span> <span class=err>ä¸Šåˆ</span> <span class=n>org</span><span class=o>.</span><span class=n>bouncycastle</span><span class=o>.</span><span class=n>jsse</span><span class=o>.</span><span class=n>provider</span><span class=o>.</span><span class=n>PropertyUtils</span> <span class=n>getStringSecurityProperty</span>
</span></span><span class=line><span class=cl><span class=err>ä¿¡æ¯</span><span class=p>:</span> <span class=n>Found</span> <span class=n>string</span> <span class=n>security</span> <span class=n>property</span> <span class=p>[</span><span class=n>jdk</span><span class=o>.</span><span class=n>tls</span><span class=o>.</span><span class=n>disabledAlgorithms</span><span class=p>]:</span> <span class=n>SSLv3</span><span class=p>,</span> <span class=n>TLSv1</span><span class=p>,</span> <span class=n>TLSv1</span><span class=o>.</span><span class=mi>1</span><span class=p>,</span> <span class=n>RC4</span><span class=p>,</span> <span class=n>DES</span><span class=p>,</span> <span class=n>MD5withRSA</span><span class=p>,</span> <span class=n>DH</span> <span class=n>keySize</span> <span class=o>&lt;</span> <span class=mi>1024</span><span class=p>,</span> <span class=n>EC</span> <span class=n>keySize</span> <span class=o>&lt;</span> <span class=mi>224</span><span class=p>,</span> <span class=mi>3</span><span class=n>DES_EDE_CBC</span><span class=p>,</span> <span class=n>anon</span><span class=p>,</span> <span class=n>NULL</span>
</span></span><span class=line><span class=cl><span class=mi>9</span><span class=err>æœˆ</span> <span class=mi>19</span><span class=p>,</span> <span class=mi>2025</span> <span class=mi>10</span><span class=p>:</span><span class=mi>13</span><span class=p>:</span><span class=mi>26</span> <span class=err>ä¸Šåˆ</span> <span class=n>org</span><span class=o>.</span><span class=n>bouncycastle</span><span class=o>.</span><span class=n>jsse</span><span class=o>.</span><span class=n>provider</span><span class=o>.</span><span class=n>PropertyUtils</span> <span class=n>getStringSecurityProperty</span>
</span></span><span class=line><span class=cl><span class=err>ä¿¡æ¯</span><span class=p>:</span> <span class=n>Found</span> <span class=n>string</span> <span class=n>security</span> <span class=n>property</span> <span class=p>[</span><span class=n>jdk</span><span class=o>.</span><span class=n>certpath</span><span class=o>.</span><span class=n>disabledAlgorithms</span><span class=p>]:</span> <span class=n>MD2</span><span class=p>,</span> <span class=n>MD5</span><span class=p>,</span> <span class=n>SHA1</span> <span class=n>jdkCA</span> <span class=o>&amp;</span> <span class=n>usage</span> <span class=n>TLSServer</span><span class=p>,</span> <span class=n>RSA</span> <span class=n>keySize</span> <span class=o>&lt;</span> <span class=mi>1024</span><span class=p>,</span> <span class=n>DSA</span> <span class=n>keySize</span> <span class=o>&lt;</span> <span class=mi>1024</span><span class=p>,</span> <span class=n>EC</span> <span class=n>keySize</span> <span class=o>&lt;</span> <span class=mi>224</span><span class=p>,</span> <span class=n>SHA1</span> <span class=n>usage</span> <span class=n>SignedJAR</span> <span class=o>&amp;</span> <span class=n>denyAfter</span> <span class=mi>2019</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span>
</span></span><span class=line><span class=cl><span class=mi>9</span><span class=err>æœˆ</span> <span class=mi>19</span><span class=p>,</span> <span class=mi>2025</span> <span class=mi>10</span><span class=p>:</span><span class=mi>13</span><span class=p>:</span><span class=mi>26</span> <span class=err>ä¸Šåˆ</span> <span class=n>org</span><span class=o>.</span><span class=n>bouncycastle</span><span class=o>.</span><span class=n>jsse</span><span class=o>.</span><span class=n>provider</span><span class=o>.</span><span class=n>DisabledAlgorithmConstraints</span> <span class=n>create</span>
</span></span><span class=line><span class=cl><span class=err>è­¦å‘Š</span><span class=p>:</span> <span class=n>Ignoring</span> <span class=n>unsupported</span> <span class=n>entry</span> <span class=ow>in</span> <span class=s1>&#39;jdk.certpath.disabledAlgorithms&#39;</span><span class=p>:</span> <span class=n>SHA1</span> <span class=n>jdkCA</span> <span class=o>&amp;</span> <span class=n>usage</span> <span class=n>TLSServer</span>
</span></span><span class=line><span class=cl><span class=mi>9</span><span class=err>æœˆ</span> <span class=mi>19</span><span class=p>,</span> <span class=mi>2025</span> <span class=mi>10</span><span class=p>:</span><span class=mi>13</span><span class=p>:</span><span class=mi>26</span> <span class=err>ä¸Šåˆ</span> <span class=n>org</span><span class=o>.</span><span class=n>bouncycastle</span><span class=o>.</span><span class=n>jsse</span><span class=o>.</span><span class=n>provider</span><span class=o>.</span><span class=n>DisabledAlgorithmConstraints</span> <span class=n>create</span>
</span></span><span class=line><span class=cl><span class=err>è­¦å‘Š</span><span class=p>:</span> <span class=n>Ignoring</span> <span class=n>unsupported</span> <span class=n>entry</span> <span class=ow>in</span> <span class=s1>&#39;jdk.certpath.disabledAlgorithms&#39;</span><span class=p>:</span> <span class=n>SHA1</span> <span class=n>usage</span> <span class=n>SignedJAR</span> <span class=o>&amp;</span> <span class=n>denyAfter</span> <span class=mi>2019</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span>
</span></span><span class=line><span class=cl><span class=mi>2025</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>19</span><span class=n>T02</span><span class=p>:</span><span class=mi>13</span><span class=p>:</span><span class=mf>26.632017</span><span class=n>Z</span> <span class=n>xmdlog</span><span class=o>-</span><span class=n>registry</span><span class=o>-</span><span class=n>service</span> <span class=n>INFO</span> <span class=n>Registry</span> <span class=n>LogManager</span> <span class=n>register</span> <span class=n>status</span> <span class=bp>true</span><span class=p>,</span> <span class=n>url</span> <span class=p>:</span> <span class=n>http</span><span class=p>:</span><span class=o>//</span><span class=nb>log</span><span class=o>.</span><span class=n>inf</span><span class=o>.</span><span class=n>dev</span><span class=o>.</span><span class=n>sankuai</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>api</span><span class=o>/</span><span class=n>register</span><span class=err>?</span><span class=n>appkey</span><span class=o>=</span><span class=n>com</span><span class=o>.</span><span class=n>example</span><span class=o>.</span><span class=n>com</span><span class=o>&amp;</span><span class=n>ip</span><span class=o>=</span><span class=mf>172.18</span><span class=o>.</span><span class=mf>151.200</span><span class=o>&amp;</span><span class=n>port</span><span class=o>=</span><span class=mi>12315</span><span class=o>&amp;</span><span class=n>env</span><span class=o>=</span><span class=n>TEST</span><span class=o>&amp;</span><span class=n>version</span><span class=o>=</span><span class=mf>2.2</span><span class=o>.</span><span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=n>Local</span> <span class=n>Appenv</span><span class=p>:</span> <span class=n>deployenv</span> <span class=p>[</span><span class=n>qa</span><span class=p>],</span> <span class=n>env</span> <span class=p>[</span><span class=n>test</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>AppEnv</span><span class=p>{</span><span class=n>deployenv</span><span class=o>=</span><span class=s1>&#39;qa&#39;</span><span class=p>,</span> <span class=n>env</span><span class=o>=</span><span class=s1>&#39;test&#39;</span><span class=p>,</span> <span class=n>swimlane</span><span class=o>=</span><span class=s1>&#39;tmp-test&#39;</span><span class=p>,</span> <span class=n>cell</span><span class=o>=</span><span class=s1>&#39;null&#39;</span><span class=p>,</span> <span class=n>grouptags</span><span class=o>=</span><span class=s1>&#39;null&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>Fri</span> <span class=n>Sep</span> <span class=mi>19</span> <span class=mi>10</span><span class=p>:</span><span class=mi>13</span><span class=p>:</span><span class=mi>48</span> <span class=n>CST</span> <span class=mi>2025</span> <span class=n>WARN</span><span class=p>:</span> <span class=n>Establishing</span> <span class=n>SSL</span> <span class=n>connection</span> <span class=n>without</span> <span class=n>server</span><span class=s1>&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;</span><span class=n>t</span> <span class=n>set</span><span class=o>.</span> <span class=n>For</span> <span class=n>compliance</span> <span class=n>with</span> <span class=n>existing</span> <span class=n>applications</span> <span class=ow>not</span> <span class=n>using</span> <span class=n>SSL</span> <span class=n>the</span> <span class=n>verifyServerCertificate</span> <span class=n>property</span> <span class=n>is</span> <span class=n>set</span> <span class=n>to</span> <span class=s1>&#39;false&#39;</span><span class=o>.</span> <span class=n>You</span> <span class=n>need</span> <span class=n>either</span> <span class=n>to</span> <span class=n>explicitly</span> <span class=n>disable</span> <span class=n>SSL</span> <span class=n>by</span> <span class=n>setting</span> <span class=n>useSSL</span><span class=o>=</span><span class=bp>false</span><span class=p>,</span> <span class=ow>or</span> <span class=n>set</span> <span class=n>useSSL</span><span class=o>=</span><span class=bp>true</span> <span class=ow>and</span> <span class=n>provide</span> <span class=n>truststore</span> <span class=k>for</span> <span class=n>server</span> <span class=n>certificate</span> <span class=n>verification</span><span class=o>.</span>
</span></span></code></pre></td></tr></table></div></div><p>åœ¨æ˜¾ç¤ºäº†ä¸€äº›ç»„ä»¶åˆå§‹åŒ–ä¿¡æ¯å’ŒASCIIå›¾æ¡ˆåï¼Œç¨‹åºå°±å®Œå…¨åœæ­¢è¾“å‡ºäº†ã€‚æ§åˆ¶å°å…‰æ ‡åœ¨é—ªçƒï¼Œä½†æ˜¯ä»€ä¹ˆéƒ½ä¸ä¼šå‘ç”Ÿã€‚</p><h2 id=äºŒçœŸç›¸å¾€å¾€å‡ºäººæ„æ–™>äºŒã€çœŸç›¸å¾€å¾€å‡ºäººæ„æ–™</h2><h3 id=æ•°å­—ä¸ä¼šè¯´è°567çš„cpuä½¿ç”¨ç‡>æ•°å­—ä¸ä¼šè¯´è°ï¼š56.7%çš„CPUä½¿ç”¨ç‡</h3><p>é¦–å…ˆä½¿ç”¨ <code>ps</code> å‘½ä»¤æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ps aux <span class=p>|</span> grep ApplicationLoader
</span></span><span class=line><span class=cl>majiang    <span class=m>97897</span>  56.7  2.5 <span class=m>443940128</span> <span class=m>633216</span>   ??  R    11:34AM   1:19.25
</span></span></code></pre></td></tr></table></div></div><p>è¿™ä¸ªç»“æœè®©æˆ‘éœ‡æƒŠï¼š</p><ul><li>è¿›ç¨‹çŠ¶æ€: R (Running) â€” ç¨‹åºåœ¨è¿è¡Œï¼Œä¸æ˜¯é˜»å¡çŠ¶æ€</li><li>CPUä½¿ç”¨ç‡: 56.7% â€” ç¨‹åºåœ¨ç§¯æå·¥ä½œ</li><li>è¿è¡Œæ—¶é—´: 1å°æ—¶19åˆ†é’Ÿ â€” ç¨‹åºä¸€ç›´åœ¨æŒç»­è¿è¡Œ</li></ul><p>æˆ‘åŸæœ¬ä»¥ä¸ºç¨‹åºå¡ä½äº†ï¼Œå¦‚æœçœŸæ˜¯è¿™æ ·ï¼ŒCPUä½¿ç”¨ç‡åº”è¯¥æ¥è¿‘0%ã€‚ä½†ç°åœ¨56.7%çš„CPUä½¿ç”¨ç‡è¯´æ˜ç¨‹åºåœ¨æ­£å¸¸è¿è¡Œï¼</p><h3 id=æ·±å…¥æ£€æŸ¥ä½¿ç”¨å„ç§åˆ†æå·¥å…·>æ·±å…¥æ£€æŸ¥ï¼šä½¿ç”¨å„ç§åˆ†æå·¥å…·</h3><p>ä¸ºäº†å½»åº•ææ¸…æ¥šç¨‹åºåœ¨åšä»€ä¹ˆï¼Œæˆ‘ä½¿ç”¨äº†å¤šç§åˆ†ææ‰‹æ®µï¼š</p><p>çº¿ç¨‹çŠ¶æ€åˆ†æ: ä½¿ç”¨<code>jstack</code>åå¤æ£€æŸ¥ï¼Œæ²¡æœ‰å‘ç°æ­»é”æˆ–å¼‚å¸¸é˜»å¡</p><ul><li><p>Profilerç«ç„°å›¾: é€šè¿‡JProfileræŸ¥çœ‹æ–¹æ³•è°ƒç”¨ï¼Œç¨‹åºæ‰§è¡Œæ­£å¸¸</p></li><li><p>çº¿ç¨‹æ—¶é—´çº¿: è§‚å¯Ÿçº¿ç¨‹çš„æ—¶é—´åˆ†å¸ƒï¼Œå„ä¸ªçº¿ç¨‹éƒ½åœ¨æ­£å¸¸å·¥ä½œ</p></li><li><p>çº¿ç¨‹å¿«ç…§: å¤šæ¬¡è·å–çº¿ç¨‹å¿«ç…§å¯¹æ¯”ï¼Œçº¿ç¨‹çŠ¶æ€æ­£å¸¸å·¥ä½œ</p><p>æ‰€æœ‰è¿™äº›å·¥å…·éƒ½æŒ‡å‘åŒä¸€ä¸ªç»“è®ºï¼šç¨‹åºè¿è¡Œå®Œå…¨æ­£å¸¸ï¼Œæ²¡æœ‰ä»»ä½•é˜»å¡æˆ–æ€§èƒ½é—®é¢˜ã€‚</p><p>è¿›ä¸€æ­¥åˆ†æçº¿ç¨‹å †æ ˆï¼Œæˆ‘å‘ç°äº†å…³é”®ä¿¡æ¯ï¼š</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>  $ jstack <span class=m>97897</span> <span class=p>|</span> grep -E <span class=s2>&#34;main.*tid&#34;</span>
</span></span><span class=line><span class=cl>  <span class=c1># æ²¡æœ‰æ‰¾åˆ°mainçº¿ç¨‹ï¼</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  $ jstack <span class=m>97897</span> <span class=p>|</span> head -20
</span></span><span class=line><span class=cl>  <span class=s2>&#34;qtp1366921090-106&#34;</span> <span class=c1>#106 prio=5 ... waiting on condition</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;qtp1366921090-107&#34;</span> <span class=c1>#107 prio=5 ... runnable  </span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;RhinoHttpSeverBossGroup-2-1&#34;</span> <span class=c1>#128 prio=5 ... runnable</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;MtthriftServerBossGroup-8-1&#34;</span> <span class=c1>#346 prio=5 ... runnable</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;DestroyJavaVM&#34;</span> <span class=c1>#377 prio=5 ... waiting on condition</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™äº›å‘ç°å½»åº•æ”¹å˜äº†æˆ‘çš„è®¤çŸ¥ï¼š</p><ul><li>âœ… Mainçº¿ç¨‹å·²ç»æ­£å¸¸æ‰§è¡Œå®Œæ¯•å¹¶é€€å‡º</li><li>âœ… Spring Bootåº”ç”¨å®Œå…¨å¯åŠ¨æˆåŠŸ</li><li>âœ… HTTPæœåŠ¡å™¨çº¿ç¨‹æ± ï¼ˆqtpå¼€å¤´çš„çº¿ç¨‹ï¼‰åœ¨æ­£å¸¸è¿è¡Œ</li><li>âœ… å„ç§æœåŠ¡ç»„ä»¶çš„å·¥ä½œçº¿ç¨‹éƒ½åœ¨è¿è¡Œ</li></ul><p>ç¨‹åºæ ¹æœ¬æ²¡æœ‰"å¡ä½"ï¼</p><p>çœŸæ­£å‘ç”Ÿçš„æ˜¯ï¼šåº”ç”¨åœ¨åå°æ­£å¸¸è¿è¡Œï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•æ—¥å¿—è¾“å‡ºã€‚è¿™ç»™æˆ‘é€ æˆäº†ç¨‹åºåœæ­¢å“åº”çš„é”™è§‰ã€‚</p><p>é—®é¢˜çš„æœ¬è´¨ä»"ç¨‹åºé˜»å¡"å˜æˆäº†"æ—¥å¿—ç³»ç»Ÿå¤±æ•ˆ"ã€‚</p><h2 id=ä¸‰é™é»˜æ€æ‰‹çš„çœŸé¢ç›®>ä¸‰ã€é™é»˜æ€æ‰‹çš„çœŸé¢ç›®</h2><h3 id=slf4jçš„é€‰æ‹©å›°éš¾ç—‡>SLF4Jçš„é€‰æ‹©å›°éš¾ç—‡</h3><p>æ—¢ç„¶ç¨‹åºæ­£å¸¸è¿è¡Œä½†æ²¡æœ‰æ—¥å¿—è¾“å‡ºï¼Œé—®é¢˜å°±å‡ºåœ¨æ—¥å¿—ç³»ç»Ÿä¸Šã€‚å›çœ‹æœ€åˆçš„è­¦å‘Šä¿¡æ¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl>  <span class=n>SLF4J</span><span class=p>(</span><span class=n>W</span><span class=p>):</span> <span class=n>Class</span> <span class=n>path</span> <span class=n>contains</span> <span class=n>multiple</span> <span class=n>SLF4J</span> <span class=n>providers</span><span class=o>.</span>
</span></span><span class=line><span class=cl>  <span class=n>SLF4J</span><span class=p>(</span><span class=n>W</span><span class=p>):</span> <span class=n>Found</span> <span class=n>provider</span> <span class=p>[</span><span class=n>org</span><span class=o>.</span><span class=n>slf4j</span><span class=o>.</span><span class=n>reload4j</span><span class=o>.</span><span class=n>Reload4jServiceProvider</span><span class=err>@</span><span class=mi>64</span><span class=n>cd705f</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>SLF4J</span><span class=p>(</span><span class=n>W</span><span class=p>):</span> <span class=n>Found</span> <span class=n>provider</span> <span class=p>[</span><span class=n>org</span><span class=o>.</span><span class=n>apache</span><span class=o>.</span><span class=n>logging</span><span class=o>.</span><span class=n>slf4j</span><span class=o>.</span><span class=n>SLF4JServiceProvider</span><span class=err>@</span><span class=mi>9225652</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>SLF4J</span><span class=p>(</span><span class=n>I</span><span class=p>):</span> <span class=n>Actual</span> <span class=n>provider</span> <span class=n>is</span> <span class=n>of</span> <span class=n>type</span> <span class=p>[</span><span class=n>org</span><span class=o>.</span><span class=n>slf4j</span><span class=o>.</span><span class=n>reload4j</span><span class=o>.</span><span class=n>Reload4jServiceProvider</span><span class=err>@</span><span class=mi>64</span><span class=n>cd705f</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™é‡Œæ­ç¤ºäº†å…³é”®é—®é¢˜ï¼š<strong>SLF4Jåœ¨ä¸¤ä¸ªæ—¥å¿—å®ç°ä¹‹é—´é€‰æ‹©äº†é”™è¯¯çš„é‚£ä¸ª</strong>ã€‚</p><p><code>SLF4J</code>æ˜¯ä¸€ä¸ªæ—¥å¿—é—¨é¢ï¼Œå®ƒåœ¨è¿è¡Œæ—¶ä»classpathä¸­é€‰æ‹©ä¸€ä¸ªå…·ä½“çš„æ—¥å¿—å®ç°ã€‚é€‰æ‹©ç­–ç•¥å¾ˆç®€å•ï¼šä½¿ç”¨ç¬¬ä¸€ä¸ªå‘ç°çš„æä¾›è€…ã€‚</p><p><strong>ä¸¤ä¸ªå†²çªçš„æä¾›è€…</strong>ï¼š</p><ul><li><code>org.slf4j.reload4j.Reload4jServiceProvider</code> â€” æ¥è‡ª<code>slf4j-reload4j</code>åŒ…ï¼Œå…¼å®¹Log4j 1.x</li><li><code>org.apache.logging.slf4j.SLF4JServiceProvider</code> â€” æ¥è‡ª<code>log4j-slf4j2-impl</code>åŒ…ï¼Œæ”¯æŒLog4j 2.x</li></ul><p>SLF4Jé€‰æ‹©äº†reload4jæä¾›è€…ï¼Œä½†æˆ‘çš„é¡¹ç›®é…ç½®çš„æ˜¯Log4j 2.xæ ¼å¼ã€‚</p><h3 id=è¢«åå™¬çš„æ—¥å¿—å»äº†å“ªé‡Œ>è¢«åå™¬çš„æ—¥å¿—å»äº†å“ªé‡Œ</h3><p>æˆ‘çš„é¡¹ç›®ä½¿ç”¨çš„æ˜¯æ ‡å‡†çš„Log4j 2.xé…ç½®æ–‡ä»¶ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;configuration</span> <span class=na>status=</span><span class=s>&#34;info&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;appenders&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Console</span> <span class=na>name=</span><span class=s>&#34;Console&#34;</span> <span class=na>target=</span><span class=s>&#34;SYSTEM_OUT&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;PatternLayout</span> <span class=na>pattern=</span><span class=s>&#34;${sys:CONSOLE_LOG_PATTERN}&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/Console&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;XMDFile</span> <span class=na>name=</span><span class=s>&#34;infoAppender&#34;</span> <span class=na>fileName=</span><span class=s>&#34;info.log&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=c>&lt;!-- Log4j 2.xç‰¹æœ‰çš„appender --&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/XMDFile&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/appenders&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;loggers&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;root</span> <span class=na>level=</span><span class=s>&#34;info&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;appender-ref</span> <span class=na>ref=</span><span class=s>&#34;Console&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/root&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/loggers&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/configuration&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>é—®é¢˜åœ¨äºï¼šreload4jåªèƒ½ç†è§£Log4j 1.xçš„é…ç½®æ ¼å¼ï¼Œæ— æ³•è§£æLog4j 2.xçš„é«˜çº§è¯­æ³•ã€‚</p><p>å¤±è´¥é“¾è·¯ï¼š</p><ol><li>reload4jå°è¯•è§£ælog4j2.xml</li><li>é‡åˆ°ä¸è®¤è¯†çš„<code>&lt;XMDFile></code>ç­‰Log4j 2.xå…ƒç´ </li><li>é…ç½®è§£æå¤±è´¥ï¼Œæ²¡æœ‰åˆ›å»ºä»»ä½•appender</li><li>æ‰€æœ‰æ—¥å¿—è°ƒç”¨éƒ½è¢«é™é»˜ä¸¢å¼ƒ</li></ol><p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªè­¦å‘Šï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>log4j:WARN No appenders could be found for logger (com.sankuai.inf.octo.mns.util.ProcessInfoUtil).
</span></span><span class=line><span class=cl>log4j:WARN Please initialize the log4j system properly.
</span></span></code></pre></td></tr></table></div></div><p>å®Œæ•´çš„"åå™¬"è¿‡ç¨‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>  ç¬¬1æ­¥: ä¸šåŠ¡ä»£ç è°ƒç”¨
</span></span><span class=line><span class=cl>  logger.info<span class=o>(</span><span class=s2>&#34;Spring Boot application started&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>      â†“
</span></span><span class=line><span class=cl>  ç¬¬2æ­¥: SLF4Jé—¨é¢æ¥æ”¶è°ƒç”¨
</span></span><span class=line><span class=cl>  org.slf4j.Logger.info<span class=o>(</span>String msg<span class=o>)</span>
</span></span><span class=line><span class=cl>      â†“
</span></span><span class=line><span class=cl>  ç¬¬3æ­¥: SLF4Jè·¯ç”±åˆ°é€‰ä¸­çš„æä¾›è€…
</span></span><span class=line><span class=cl>  SLF4J â†’ org.slf4j.reload4j.Reload4jLoggerAdapter
</span></span><span class=line><span class=cl>      â†“
</span></span><span class=line><span class=cl>  ç¬¬4æ­¥: reload4jé€‚é…å™¨å§”æ‰˜ç»™Log4j 1.x
</span></span><span class=line><span class=cl>  Reload4jLoggerAdapter â†’ org.apache.log4j.Logger <span class=o>(</span>reload4jå®ç°<span class=o>)</span>
</span></span><span class=line><span class=cl>      â†“
</span></span><span class=line><span class=cl>  ç¬¬5æ­¥: Log4jæ£€æŸ¥å¯ç”¨çš„appender
</span></span><span class=line><span class=cl>  logger.getAllAppenders<span class=o>()</span> â†’ è¿”å›ç©ºé›†åˆ <span class=o>(</span>å› ä¸ºé…ç½®è§£æå¤±è´¥<span class=o>)</span>
</span></span><span class=line><span class=cl>      â†“
</span></span><span class=line><span class=cl>  ç¬¬6æ­¥: æ²¡æœ‰appenderå¯ç”¨
</span></span><span class=line><span class=cl>  Log4jåˆ¤æ–­ï¼šæ—¢ç„¶æ²¡æœ‰appenderï¼Œå°±ç›´æ¥ä¸¢å¼ƒè¿™æ¡æ¶ˆæ¯
</span></span><span class=line><span class=cl>      â†“
</span></span><span class=line><span class=cl>  ç¬¬7æ­¥: é™é»˜è¿”å›
</span></span><span class=line><span class=cl>  æ–¹æ³•æ­£å¸¸è¿”å›ï¼Œä¸æŠ›å¼‚å¸¸ï¼Œä¸šåŠ¡ä»£ç ç»§ç»­æ‰§è¡Œ
</span></span><span class=line><span class=cl>      â†“
</span></span><span class=line><span class=cl>  ç»“æœ: ç”¨æˆ·å®Œå…¨çœ‹ä¸åˆ°ä»»ä½•æ—¥å¿—è¾“å‡º
</span></span></code></pre></td></tr></table></div></div><p>Log4jé‡‡ç”¨"é™é»˜å¤±è´¥"ç­–ç•¥ï¼šå½“æ²¡æœ‰å¯ç”¨çš„appenderæ—¶ï¼Œæ‰€æœ‰æ—¥å¿—è°ƒç”¨æ­£å¸¸æ‰§è¡Œä½†è¾“å‡ºè¢«å®Œå…¨ä¸¢å¼ƒï¼Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸å½±å“ä¸šåŠ¡é€»è¾‘ã€‚</p><p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ’é™¤slf4j-reload4jèƒ½è§£å†³é—®é¢˜ï¼šå»æ‰é”™è¯¯çš„æä¾›è€…åï¼ŒSLF4Jä¼šé€‰æ‹©æ­£ç¡®çš„Log4j 2.xå®ç°ï¼Œæ—¥å¿—ç³»ç»Ÿæ¢å¤æ­£å¸¸ã€‚</p><h2 id=å››ç ´è§£ä¹‹é“>å››ã€ç ´è§£ä¹‹é“</h2><h3 id=æ–©æ–­æ··ä¹±çš„ä¾èµ–é“¾>æ–©æ–­æ··ä¹±çš„ä¾èµ–é“¾</h3><p>ç†è§£äº†é—®é¢˜æœ¬è´¨åï¼Œè§£å†³æ–¹æ¡ˆå°±å¾ˆæ¸…æ¥šäº†ï¼š<strong>æ¶ˆé™¤SLF4Jæä¾›è€…å†²çª</strong>ã€‚</p><p>é€šè¿‡Mavenä¾èµ–æ’é™¤ï¼Œå°†é”™è¯¯çš„æä¾›è€…ä»classpathä¸­ç§»é™¤ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;dependency&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;groupId&gt;</span>com.sankuai.com<span class=nt>&lt;/groupId&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;artifactId&gt;</span>example-sdk<span class=nt>&lt;/artifactId&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;version&gt;</span>1.0<span class=nt>&lt;/version&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;exclusions&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;exclusion&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;artifactId&gt;</span>slf4j-reload4j<span class=nt>&lt;/artifactId&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;groupId&gt;</span>org.slf4j<span class=nt>&lt;/groupId&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/exclusion&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/exclusions&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>ä¿®å¤åçš„æ•ˆæœï¼š</p><ol><li>Classpathä¸­åªå‰©ä¸‹log4j-slf4j2-implæä¾›è€…</li><li>SLF4Jè‡ªåŠ¨é€‰æ‹©Log4j 2.xå®ç°</li><li>Log4j 2.xæ­£ç¡®è§£ælog4j2.xmlé…ç½®æ–‡ä»¶</li><li>Consoleå’ŒFile appenderæ­£å¸¸åˆ›å»º</li><li>æ—¥å¿—è¾“å‡ºæ¢å¤æ­£å¸¸ï¼Œåº”ç”¨"å¤æ´»"</li></ol><p>éªŒè¯ä¿®å¤ç»“æœï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>2025-09-19 10:37:00.840  INFO 62045 --- [           main] c.s.h.g.g.ApplicationLoader              : Starting ApplicationLoader using Java 17.0.10
</span></span><span class=line><span class=cl>2025-09-19 10:37:00.840  INFO 62045 --- [           main] c.s.h.g.g.ApplicationLoader              : The following 1 profile is active: &#34;test&#34;
</span></span><span class=line><span class=cl>2025-09-19 10:37:15.234  INFO 62045 --- [           main] c.s.h.g.g.ApplicationLoader              : Started ApplicationLoader in 14.628 seconds
</span></span></code></pre></td></tr></table></div></div><p>æ²¡æœ‰äº†SLF4Jè­¦å‘Šä¿¡æ¯ï¼Œæ²¡æœ‰äº†log4jçš„é”™è¯¯æç¤ºï¼Œä¸€åˆ‡éƒ½æ¢å¤æ­£å¸¸ã€‚</p><h3 id=ä¸ºä»€ä¹ˆä¼šä¸€ç›´ä½¿ç”¨reald4j>ä¸ºä»€ä¹ˆä¼šä¸€ç›´ä½¿ç”¨reald4j?</h3><p>é€šè¿‡æŸ¥çœ‹é¡¹ç›®çš„pom.xmlæ–‡ä»¶ï¼Œæˆ‘å‘ç°<code>photo-thrift-client</code>ä¾èµ–çš„ä½ç½®ç¡®å®å½±å“äº†SLF4Jæä¾›è€…çš„é€‰æ‹©ã€‚</p><p>åœ¨<code>hrmdm-globaldata-gateway-infrastructure/pom.xml</code>ä¸­ï¼Œ<code>photo-thrift-client</code>ä¾èµ–ä½äºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;dependency&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;groupId&gt;</span>com.sankuai.com<span class=nt>&lt;/groupId&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;artifactId&gt;</span>example-sdk<span class=nt>&lt;/artifactId&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;version&gt;</span>1.0<span class=nt>&lt;/version&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;exclusions&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;exclusion&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;artifactId&gt;</span>slf4j-reload4j<span class=nt>&lt;/artifactId&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;groupId&gt;</span>org.slf4j<span class=nt>&lt;/groupId&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/exclusion&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/exclusions&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™ä¸ªä¾èµ–åœ¨æ–‡ä»¶ä¸­çš„ä½ç½®ç›¸å¯¹è¾ƒå‰ï¼Œè€Œä¸”å®ƒç›´æ¥å¼•å…¥äº†slf4j-reload4jä½œä¸ºä¼ é€’ä¾èµ–ã€‚ç”±äºMavenæ„å»ºclasspathæ—¶æŒ‰ç…§ä¾èµ–åœ¨æ–‡ä»¶ä¸­çš„å£°æ˜é¡ºåºï¼Œslf4j-reload4jçš„ServiceProvideræ–‡ä»¶è¢«å…ˆåŠ è½½åˆ°ServiceLoaderä¸­ã€‚</p><p>å…·ä½“çš„åŠ è½½é¡ºåºï¼š</p><ol><li>Mavenè§£æä¾èµ–æ ‘ï¼Œphoto-thrift-clientè¾ƒæ—©è¢«å¤„ç†</li><li>photo-thrift-client â†’ slf4j-reload4j è¢«æ·»åŠ åˆ°classpathé å‰ä½ç½®</li><li>ServiceLoaderæ‰«ææ—¶ï¼Œå…ˆå‘ç°slf4j-reload4jçš„ServiceProvider</li><li>SLF4Jé€‰æ‹©ç¬¬ä¸€ä¸ªå‘ç°çš„æä¾›è€…ï¼šreload4j</li></ol><p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆslf4j-reload4jè¢«ä¼˜å…ˆé€‰æ‹©çš„æ ¹æœ¬åŸå› ã€‚ä¸åŒçš„é¡¹ç›®ä¸­ï¼Œå¦‚æœä¾èµ–å£°æ˜é¡ºåºä¸åŒï¼Œå¯èƒ½å°±ä¼šé€‰æ‹©log4j-slf4j2-implä½œä¸ºæä¾›è€…ã€‚</p><p>éªŒè¯æ–¹æ³•ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>mvn dependency:build-classpath
</span></span></code></pre></td></tr></table></div></div><p>å¯ä»¥æŸ¥çœ‹å®é™…æ„å»ºçš„classpathé¡ºåºï¼Œç¡®è®¤slf4j-reload4jç¡®å®åœ¨å‰é¢ã€‚</p><h2 id=å°¾å£°æŠ€æœ¯ä¸–ç•Œçš„å¯ç¤º>å°¾å£°ï¼šæŠ€æœ¯ä¸–ç•Œçš„å¯ç¤º</h2><p>è¿™ä¸ªæ¡ˆä¾‹æ­ç¤ºäº†ç°ä»£Javaåº”ç”¨ç”Ÿæ€çš„å¤æ‚æ€§ã€‚ä¸€ä¸ªçœ‹ä¼¼æ— å®³çš„ä¼ é€’ä¾èµ–ï¼Œé€šè¿‡å¾®å¦™çš„ç±»åŠ è½½é¡ºåºå’Œé…ç½®ä¸åŒ¹é…ï¼Œå¯¼è‡´äº†æ•´ä¸ªæ—¥å¿—ç³»ç»Ÿçš„é™é»˜å¤±æ•ˆã€‚</p><p><strong>è¡¨è±¡å…·æœ‰æ¬ºéª—æ€§</strong>ã€‚å½“æˆ‘æœ€åˆçœ‹åˆ°ç¨‹åº"å¡ä½"æ—¶ï¼Œç›´è§‰å‘Šè¯‰æˆ‘è¿™æ˜¯ä¸€ä¸ªé˜»å¡æˆ–æ­»é”é—®é¢˜ã€‚ä½†æ·±å…¥åˆ†æåå‘ç°ï¼Œç¨‹åºè¿è¡Œå®Œå…¨æ­£å¸¸ï¼Œé—®é¢˜å‡ºåœ¨ä¸€ä¸ªå®Œå…¨ä¸åŒçš„åœ°æ–¹ã€‚</p><p><strong>å·¥å…·æ˜¯è§£å†³é—®é¢˜çš„å…³é”®</strong>ã€‚é€šè¿‡ç³»ç»Ÿå‘½ä»¤ï¼ˆpsã€jstackï¼‰å’Œåˆ†æå·¥å…·ï¼Œæˆ‘èƒ½å¤Ÿé€è¿‡ç°è±¡çœ‹åˆ°æœ¬è´¨ï¼Œå‘ç°ç¨‹åºå®é™…åœ¨æ­£å¸¸è¿è¡Œã€‚</p><p><strong>ä¾èµ–ç®¡ç†çš„é‡è¦æ€§</strong>ã€‚åœ¨ç°ä»£Javaé¡¹ç›®ä¸­ï¼Œä¼ é€’ä¾èµ–å¯èƒ½å¸¦æ¥æ„æƒ³ä¸åˆ°çš„é—®é¢˜ã€‚ä¸€ä¸ªå°å°çš„jaråŒ…å†²çªï¼Œå°±èƒ½è®©æ•´ä¸ªåº”ç”¨çš„è¡Œä¸ºå˜å¾—è¯¡å¼‚ã€‚</p><p><strong>é™é»˜å¤±è´¥çš„åŒåˆƒå‰‘</strong>ã€‚Log4jçš„é™é»˜å¤±è´¥è®¾è®¡ä¿æŠ¤äº†ä¸šåŠ¡é€»è¾‘ï¼Œä½†ä¹Ÿè®©é—®é¢˜å˜å¾—æ›´éš¾å‘ç°ã€‚æœ‰æ—¶å€™ï¼Œé€‚å½“çš„"å™ªéŸ³"æ¯”å®‰é™çš„é”™è¯¯æ›´æœ‰ä»·å€¼ã€‚</p><p>æœ€é‡è¦çš„æ˜¯ï¼š<strong>ä¸è¦è¢«ç¬¬ä¸€å°è±¡è¯¯å¯¼</strong>ã€‚æŠ€æœ¯é—®é¢˜å¾€å¾€æ¯”è¡¨é¢ç°è±¡æ›´å¤æ‚ï¼Œä¹Ÿæ›´æœ‰è¶£ã€‚å½“é‡åˆ°æ— æ³•ç†è§£çš„ç°è±¡æ—¶ï¼Œä¿æŒå¥½å¥‡å¿ƒï¼Œæ·±å…¥æŒ–æ˜ï¼Œå¾€å¾€ä¼šå‘ç°ä»¤äººæƒŠå–œçš„çœŸç›¸ã€‚</p><p>åœ¨å¤æ‚çš„æŠ€æœ¯ä¸–ç•Œé‡Œï¼Œæœ€ç¥ç§˜çš„æ•…éšœèƒŒåï¼Œå¯èƒ½éšè—ç€æœ€ç®€å•çš„åŸç†ã€‚</p></section><footer class=article-footer><section class=article-tags><a href=/tags/java/>Java</a>
<a href=/tags/springboot/>SpringBoot</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>ç›¸å…³æ–‡ç« </h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/jmm/><div class=article-details><h2 class=article-title>JMM</h2></div></a></article><article><a href=/p/java-threadpool-details/><div class=article-details><h2 class=article-title>Java çº¿ç¨‹æ± è¯¦è§£</h2></div></a></article><article class=has-image><a href=/p/macos-compile-jdk/><div class=article-image><img src=/p/macos-compile-jdk/cover.d8f98d9cdcab2d81119d3bc9a8cc0637_hu14915730041950517836.png width=250 height=150 loading=lazy alt="Featured image of post MacOSè‡ªè¡Œç¼–è¯‘JDK" data-key=macos-compile-jdk data-hash="md5-2PmNnNyrLYERnTvJqMwGNw=="></div><div class=article-details><h2 class=article-title>MacOSè‡ªè¡Œç¼–è¯‘JDK</h2></div></a></article><article class=has-image><a href=/p/jvm-gc/><div class=article-image><img src=/p/jvm-gc/cover.d7fdf486c2292738721f5a0634fe8d0b_hu2418473007337000530.png width=250 height=150 loading=lazy alt="Featured image of post JVMè‡ªåŠ¨å†…å­˜ç®¡ç†å’Œåƒåœ¾å›æ”¶" data-key=jvm-gc data-hash="md5-1/30hsIpJzhyH1oGNP6NCw=="></div><div class=article-details><h2 class=article-title>JVMè‡ªåŠ¨å†…å­˜ç®¡ç†å’Œåƒåœ¾å›æ”¶</h2></div></a></article><article><a href=/p/database-index/><div class=article-details><h2 class=article-title>MySQL InnoDB ç´¢å¼•æœºåˆ¶ä¸ä¼˜åŒ–</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//majiang.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 ä»¿ç”Ÿäººä¼šæ¢¦è§ç”µå­ç¾Šå—ï¼Ÿ</section><section class=powerby>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º<br>ä¸»é¢˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>